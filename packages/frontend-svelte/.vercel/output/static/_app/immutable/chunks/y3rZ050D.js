let n,x=null;function R(){return(x===null||x.byteLength===0)&&(x=new Uint8Array(n.memory.buffer)),x}let M=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});M.decode();const N=2146435072;let O=0;function $(_,e){return O+=e,O>=N&&(M=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),M.decode(),O=e),M.decode(R().subarray(_,_+e))}function d(_,e){return _=_>>>0,$(_,e)}let a=0;const W=new TextEncoder;"encodeInto"in W||(W.encodeInto=function(_,e){const t=W.encode(_);return e.set(t),{read:_.length,written:t.length}});function l(_,e,t){if(t===void 0){const b=W.encode(_),i=e(b.length,1)>>>0;return R().subarray(i,i+b.length).set(b),a=b.length,i}let o=_.length,r=e(o,1)>>>0;const s=R();let c=0;for(;c<o;c++){const b=_.charCodeAt(c);if(b>127)break;s[r+c]=b}if(c!==o){c!==0&&(_=_.slice(c)),r=t(r,o,o=c+_.length*3,1)>>>0;const b=R().subarray(r+c,r+o),i=W.encodeInto(_,b);c+=i.written,r=t(r,o,c,1)>>>0}return a=c,r}let A=null;function p(){return(A===null||A.buffer.detached===!0||A.buffer.detached===void 0&&A.buffer!==n.memory.buffer)&&(A=new DataView(n.memory.buffer)),A}function I(_){return _==null}function T(_){const e=typeof _;if(e=="number"||e=="boolean"||_==null)return`${_}`;if(e=="string")return`"${_}"`;if(e=="symbol"){const r=_.description;return r==null?"Symbol":`Symbol(${r})`}if(e=="function"){const r=_.name;return typeof r=="string"&&r.length>0?`Function(${r})`:"Function"}if(Array.isArray(_)){const r=_.length;let s="[";r>0&&(s+=T(_[0]));for(let c=1;c<r;c++)s+=", "+T(_[c]);return s+="]",s}const t=/\[object ([^\]]+)\]/.exec(toString.call(_));let o;if(t&&t.length>1)o=t[1];else return toString.call(_);if(o=="Object")try{return"Object("+JSON.stringify(_)+")"}catch{return"Object"}return _ instanceof Error?`${_.name}: ${_.message}
${_.stack}`:o}function V(_){const e=n.__externref_table_alloc();return n.__wbindgen_externrefs.set(e,_),e}function F(_,e){try{return _.apply(this,e)}catch(t){const o=V(t);n.__wbindgen_exn_store(o)}}function U(_,e){return _=_>>>0,R().subarray(_/1,_/1+e)}let j=null;function C(){return(j===null||j.byteLength===0)&&(j=new Uint32Array(n.memory.buffer)),j}function P(_,e){return _=_>>>0,C().subarray(_/4,_/4+e)}let E=null;function q(){return(E===null||E.byteLength===0)&&(E=new Float32Array(n.memory.buffer)),E}function X(_,e){return _=_>>>0,q().subarray(_/4,_/4+e)}function G(){n.init_panic_hook()}function w(_){const e=n.__wbindgen_externrefs.get(_);return n.__externref_table_dealloc(_),e}const k=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(_=>n.__wbg_wasmmesh_free(_>>>0,1));class S{static __wrap(e){e=e>>>0;const t=Object.create(S.prototype);return t.__wbg_ptr=e,k.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,k.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_wasmmesh_free(e,0)}get indices(){return n.wasmmesh_indices(this.__wbg_ptr)}get normals(){return n.wasmmesh_normals(this.__wbg_ptr)}get positions(){return n.wasmmesh_positions(this.__wbg_ptr)}}Symbol.dispose&&(S.prototype[Symbol.dispose]=S.prototype.free);const D=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(_=>n.__wbg_wasmstore_free(_>>>0,1));class B{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,D.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_wasmstore_free(e,0)}add_opening(e,t,o,r,s,c){let b,i;try{const u=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),v=a,m=l(t,n.__wbindgen_malloc,n.__wbindgen_realloc),h=a,y=n.wasmstore_add_opening(this.__wbg_ptr,u,v,m,h,o,r,s,c);var g=y[0],f=y[1];if(y[3])throw g=0,f=0,w(y[2]);return b=g,i=f,d(g,f)}finally{n.__wbindgen_free(b,i,1)}}create_grid(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_create_grid(this.__wbg_ptr,t,o);if(r[1])throw w(r[0])}create_room(e,t,o,r){let s,c;try{const g=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),f=a,u=l(t,n.__wbindgen_malloc,n.__wbindgen_realloc),v=a,m=l(o,n.__wbindgen_malloc,n.__wbindgen_realloc),h=a,y=n.wasmstore_create_room(this.__wbg_ptr,g,f,u,v,m,h,r);var b=y[0],i=y[1];if(y[3])throw b=0,i=0,w(y[2]);return s=b,c=i,d(b,i)}finally{n.__wbindgen_free(s,c,1)}}create_wall(e,t,o,r,s){let c,b;try{const f=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),u=a,v=l(t,n.__wbindgen_malloc,n.__wbindgen_realloc),m=a,h=n.wasmstore_create_wall(this.__wbg_ptr,f,u,v,m,o,r,s);var i=h[0],g=h[1];if(h[3])throw i=0,g=0,w(h[2]);return c=i,b=g,d(i,g)}finally{n.__wbindgen_free(c,b,1)}}remove_wall(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_remove_wall(this.__wbg_ptr,t,o);if(r[1])throw w(r[0])}add_building(e,t){let o,r;try{const b=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),i=a,g=l(t,n.__wbindgen_malloc,n.__wbindgen_realloc),f=a,u=n.wasmstore_add_building(this.__wbg_ptr,b,i,g,f);var s=u[0],c=u[1];if(u[3])throw s=0,c=0,w(u[2]);return o=s,r=c,d(s,c)}finally{n.__wbindgen_free(o,r,1)}}remove_level(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_remove_level(this.__wbg_ptr,t,o);if(r[1])throw w(r[0])}render_level(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_render_level(this.__wbg_ptr,t,o);if(r[2])throw w(r[1]);return S.__wrap(r[0])}render_rooms(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_render_rooms(this.__wbg_ptr,t,o);if(r[2])throw w(r[1]);return w(r[0])}add_grid_axis(e,t,o,r){const s=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),c=a,b=l(t,n.__wbindgen_malloc,n.__wbindgen_realloc),i=a,g=l(o,n.__wbindgen_malloc,n.__wbindgen_realloc),f=a,u=n.wasmstore_add_grid_axis(this.__wbg_ptr,s,c,b,i,g,f,r);if(u[1])throw w(u[0])}create_project(e){let t,o;try{const c=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),b=a,i=n.wasmstore_create_project(this.__wbg_ptr,c,b);var r=i[0],s=i[1];if(i[3])throw r=0,s=0,w(i[2]);return t=r,o=s,d(r,s)}finally{n.__wbindgen_free(t,o,1)}}get_level_name(e){let t,o;try{const c=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),b=a,i=n.wasmstore_get_level_name(this.__wbg_ptr,c,b);var r=i[0],s=i[1];if(i[3])throw r=0,s=0,w(i[2]);return t=r,o=s,d(r,s)}finally{n.__wbindgen_free(t,o,1)}}remove_opening(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_remove_opening(this.__wbg_ptr,t,o);if(r[1])throw w(r[0])}get_event_count(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_get_event_count(this.__wbg_ptr,t,o);if(r[2])throw w(r[1]);return r[0]>>>0}get_level_rooms(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a;return n.wasmstore_get_level_rooms(this.__wbg_ptr,t,o)}remove_building(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_remove_building(this.__wbg_ptr,t,o);if(r[1])throw w(r[0])}get_all_geometry(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_get_all_geometry(this.__wbg_ptr,t,o);if(r[2])throw w(r[1]);return w(r[0])}get_level_height(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_get_level_height(this.__wbg_ptr,t,o);if(r[2])throw w(r[1]);return r[0]}get_project_name(e){let t,o;try{const c=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),b=a,i=n.wasmstore_get_project_name(this.__wbg_ptr,c,b);var r=i[0],s=i[1];if(i[3])throw r=0,s=0,w(i[2]);return t=r,o=s,d(r,s)}finally{n.__wbindgen_free(t,o,1)}}list_project_ids(){const e=n.wasmstore_list_project_ids(this.__wbg_ptr);if(e[2])throw w(e[1]);return w(e[0])}offset_footprint(e,t){const o=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=a,s=n.wasmstore_offset_footprint(this.__wbg_ptr,o,r,t);if(s[1])throw w(s[0])}get_building_name(e){let t,o;try{const c=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),b=a,i=n.wasmstore_get_building_name(this.__wbg_ptr,c,b);var r=i[0],s=i[1];if(i[3])throw r=0,s=0,w(i[2]);return t=r,o=s,d(r,s)}finally{n.__wbindgen_free(t,o,1)}}get_wall_assembly(e){let t,o;try{const c=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),b=a,i=n.wasmstore_get_wall_assembly(this.__wbg_ptr,c,b);var r=i[0],s=i[1];if(i[3])throw r=0,s=0,w(i[2]);return t=r,o=s,d(r,s)}finally{n.__wbindgen_free(t,o,1)}}get_wall_openings(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_get_wall_openings(this.__wbg_ptr,t,o);if(r[2])throw w(r[1]);return w(r[0])}get_building_stats(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_get_building_stats(this.__wbg_ptr,t,o);if(r[2])throw w(r[1]);return w(r[0])}get_footprint_area(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_get_footprint_area(this.__wbg_ptr,t,o);if(r[2])throw w(r[1]);return r[0]}get_mutation_count(){const e=n.wasmstore_get_mutation_count(this.__wbg_ptr);return BigInt.asUintN(64,e)}render_level_shell(e,t){const o=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=a,s=n.wasmstore_render_level_shell(this.__wbg_ptr,o,r,t);if(s[2])throw w(s[1]);return S.__wrap(s[0])}get_building_levels(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_get_building_levels(this.__wbg_ptr,t,o);if(r[2])throw w(r[1]);return w(r[0])}get_level_elevation(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_get_level_elevation(this.__wbg_ptr,t,o);if(r[2])throw w(r[1]);return r[0]}set_level_footprint(e,t){let o,r;try{const b=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),i=a,g=n.wasmstore_set_level_footprint(this.__wbg_ptr,b,i,t);var s=g[0],c=g[1];if(g[3])throw s=0,c=0,w(g[2]);return o=s,r=c,d(s,c)}finally{n.__wbindgen_free(o,r,1)}}create_wall_assembly(e){let t,o;try{const c=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),b=a,i=n.wasmstore_create_wall_assembly(this.__wbg_ptr,c,b);var r=i[0],s=i[1];if(i[3])throw r=0,s=0,w(i[2]);return t=r,o=s,d(r,s)}finally{n.__wbindgen_free(t,o,1)}}get_level_walls(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a;return n.wasmstore_get_level_walls(this.__wbg_ptr,t,o)}get_observable_state(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a;return n.wasmstore_get_observable_state(this.__wbg_ptr,t,o)}render_level_combined(e,t){const o=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=a,s=n.wasmstore_render_level_combined(this.__wbg_ptr,o,r,t);if(s[2])throw w(s[1]);return w(s[0])}get_footprint_perimeter(e){const t=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=a,r=n.wasmstore_get_footprint_perimeter(this.__wbg_ptr,t,o);if(r[2])throw w(r[1]);return r[0]}set_level_footprint_rect(e,t,o){let r,s;try{const i=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),g=a,f=n.wasmstore_set_level_footprint_rect(this.__wbg_ptr,i,g,t,o);var c=f[0],b=f[1];if(f[3])throw c=0,b=0,w(f[2]);return r=c,s=b,d(c,b)}finally{n.__wbindgen_free(r,s,1)}}constructor(){const e=n.wasmstore_new();return this.__wbg_ptr=e>>>0,D.register(this,this.__wbg_ptr,this),this}add_level(e,t,o,r){let s,c;try{const g=l(e,n.__wbindgen_malloc,n.__wbindgen_realloc),f=a,u=l(t,n.__wbindgen_malloc,n.__wbindgen_realloc),v=a,m=n.wasmstore_add_level(this.__wbg_ptr,g,f,u,v,o,r);var b=m[0],i=m[1];if(m[3])throw b=0,i=0,w(m[2]);return s=b,c=i,d(b,i)}finally{n.__wbindgen_free(s,c,1)}}get_state(){return n.wasmstore_get_state(this.__wbg_ptr)}}Symbol.dispose&&(B.prototype[Symbol.dispose]=B.prototype.free);const Y=new Set(["basic","cors","default"]);async function H(_,e){if(typeof Response=="function"&&_ instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(_,e)}catch(o){if(_.ok&&Y.has(_.type)&&_.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const t=await _.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(_,e);return t instanceof WebAssembly.Instance?{instance:t,module:_}:t}}function L(){const _={};return _.wbg={},_.wbg.__wbg_Error_e83987f665cf5504=function(e,t){return Error(d(e,t))},_.wbg.__wbg_String_8f0eb39a4a4c2f66=function(e,t){const o=String(t),r=l(o,n.__wbindgen_malloc,n.__wbindgen_realloc),s=a;p().setInt32(e+4,s,!0),p().setInt32(e+0,r,!0)},_.wbg.__wbg___wbindgen_boolean_get_6d5a1ee65bab5f68=function(e){const t=e,o=typeof t=="boolean"?t:void 0;return I(o)?16777215:o?1:0},_.wbg.__wbg___wbindgen_debug_string_df47ffb5e35e6763=function(e,t){const o=T(t),r=l(o,n.__wbindgen_malloc,n.__wbindgen_realloc),s=a;p().setInt32(e+4,s,!0),p().setInt32(e+0,r,!0)},_.wbg.__wbg___wbindgen_is_function_ee8a6c5833c90377=function(e){return typeof e=="function"},_.wbg.__wbg___wbindgen_is_object_c818261d21f283a4=function(e){const t=e;return typeof t=="object"&&t!==null},_.wbg.__wbg___wbindgen_is_string_fbb76cb2940daafd=function(e){return typeof e=="string"},_.wbg.__wbg___wbindgen_jsval_loose_eq_b664b38a2f582147=function(e,t){return e==t},_.wbg.__wbg___wbindgen_number_get_a20bf9b85341449d=function(e,t){const o=t,r=typeof o=="number"?o:void 0;p().setFloat64(e+8,I(r)?0:r,!0),p().setInt32(e+0,!I(r),!0)},_.wbg.__wbg___wbindgen_string_get_e4f06c90489ad01b=function(e,t){const o=t,r=typeof o=="string"?o:void 0;var s=I(r)?0:l(r,n.__wbindgen_malloc,n.__wbindgen_realloc),c=a;p().setInt32(e+4,c,!0),p().setInt32(e+0,s,!0)},_.wbg.__wbg___wbindgen_throw_b855445ff6a94295=function(e,t){throw new Error(d(e,t))},_.wbg.__wbg_call_e762c39fa8ea36bf=function(){return F(function(e,t){return e.call(t)},arguments)},_.wbg.__wbg_done_2042aa2670fb1db1=function(e){return e.done},_.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,t){let o,r;try{o=e,r=t,console.error(d(e,t))}finally{n.__wbindgen_free(o,r,1)}},_.wbg.__wbg_getRandomValues_38a1ff1ea09f6cc7=function(){return F(function(e,t){globalThis.crypto.getRandomValues(U(e,t))},arguments)},_.wbg.__wbg_getTime_14776bfb48a1bff9=function(e){return e.getTime()},_.wbg.__wbg_get_7bed016f185add81=function(e,t){return e[t>>>0]},_.wbg.__wbg_get_efcb449f58ec27c2=function(){return F(function(e,t){return Reflect.get(e,t)},arguments)},_.wbg.__wbg_instanceof_ArrayBuffer_70beb1189ca63b38=function(e){let t;try{t=e instanceof ArrayBuffer}catch{t=!1}return t},_.wbg.__wbg_instanceof_Uint8Array_20c8e73002f7af98=function(e){let t;try{t=e instanceof Uint8Array}catch{t=!1}return t},_.wbg.__wbg_isArray_96e0af9891d0945d=function(e){return Array.isArray(e)},_.wbg.__wbg_iterator_e5822695327a3c39=function(){return Symbol.iterator},_.wbg.__wbg_length_69bca3cb64fc8748=function(e){return e.length},_.wbg.__wbg_length_cdd215e10d9dd507=function(e){return e.length},_.wbg.__wbg_new_0_f9740686d739025c=function(){return new Date},_.wbg.__wbg_new_1acc0b6eea89d040=function(){return new Object},_.wbg.__wbg_new_5a79be3ab53b8aa5=function(e){return new Uint8Array(e)},_.wbg.__wbg_new_68651c719dcda04e=function(){return new Map},_.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},_.wbg.__wbg_new_e17d9f43105b08be=function(){return new Array},_.wbg.__wbg_next_020810e0ae8ebcb0=function(){return F(function(e){return e.next()},arguments)},_.wbg.__wbg_next_2c826fe5dfec6b6a=function(e){return e.next},_.wbg.__wbg_prototypesetcall_2a6620b6922694b2=function(e,t,o){Uint8Array.prototype.set.call(U(e,t),o)},_.wbg.__wbg_push_df81a39d04db858c=function(e,t){return e.push(t)},_.wbg.__wbg_set_3f1d0b984ed272ed=function(e,t,o){e[t]=o},_.wbg.__wbg_set_907fb406c34a251d=function(e,t,o){return e.set(t,o)},_.wbg.__wbg_set_c213c871859d6500=function(e,t,o){e[t>>>0]=o},_.wbg.__wbg_set_c2abbebe8b9ebee1=function(){return F(function(e,t,o){return Reflect.set(e,t,o)},arguments)},_.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,t){const o=t.stack,r=l(o,n.__wbindgen_malloc,n.__wbindgen_realloc),s=a;p().setInt32(e+4,s,!0),p().setInt32(e+0,r,!0)},_.wbg.__wbg_value_692627309814bb8c=function(e){return e.value},_.wbg.__wbg_wasmmesh_new=function(e){return S.__wrap(e)},_.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,t){return d(e,t)},_.wbg.__wbindgen_cast_4625c577ab2ec9ee=function(e){return BigInt.asUintN(64,e)},_.wbg.__wbindgen_cast_7c316abdc43840a3=function(e,t){return P(e,t)},_.wbg.__wbindgen_cast_9ae0607507abb057=function(e){return e},_.wbg.__wbindgen_cast_cd07b1914aa3d62c=function(e,t){return X(e,t)},_.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(e){return e},_.wbg.__wbindgen_init_externref_table=function(){const e=n.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},_}function z(_,e){return n=_.exports,J.__wbindgen_wasm_module=e,A=null,E=null,j=null,x=null,n.__wbindgen_start(),n}function K(_){if(n!==void 0)return n;typeof _<"u"&&(Object.getPrototypeOf(_)===Object.prototype?{module:_}=_:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const e=L();_ instanceof WebAssembly.Module||(_=new WebAssembly.Module(_));const t=new WebAssembly.Instance(_,e);return z(t,_)}async function J(_){if(n!==void 0)return n;typeof _<"u"&&(Object.getPrototypeOf(_)===Object.prototype?{module_or_path:_}=_:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof _>"u"&&(_=new URL(""+new URL("../assets/geometry_wasm_bg.BkhuXbH3.wasm",import.meta.url).href,import.meta.url));const e=L();(typeof _=="string"||typeof Request=="function"&&_ instanceof Request||typeof URL=="function"&&_ instanceof URL)&&(_=fetch(_));const{instance:t,module:o}=await H(await _,e);return z(t,o)}export{S as WasmMesh,B as WasmStore,J as default,K as initSync,G as init_panic_hook};
